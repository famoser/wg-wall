<div class="card">
  <div class="card-body">
    <div class="row" *ngIf="!isEditActive">
      <div class="col">
        <h3>
          departures
        </h3>
      </div>
      <div class="col-auto">
        <button *ngIf="!isEditActive" class="btn btn-link text-secondary btn-lg" [class.d-none]="isEditActive" (click)="startEdit()">
          <fa-icon [icon]="faPencilAlt"></fa-icon>
        </button>
      </div>
    </div>


    <div class="form-inline" *ngIf="isEditActive">
      <div class="form-group flex-grow-1">
        <input type="text" [(ngModel)]="newStationName" class="form-control form-control-lg flex-grow-1" (keyup.enter)="save()">
      </div>
      <div class="btn-group btn-group-lg ml-4">
        <button class="btn btn-link text-success" type="button" (click)="save()">
          <fa-icon [icon]="faSave"></fa-icon>
        </button>
        <button class="btn btn-link text-warning" type="button" (click)="abort()">
          <fa-icon [icon]="faUndo"></fa-icon>
        </button>
      </div>
    </div>

    <p class="small text-secondary help">
      the next few departures from {{stationName}}
    </p>
    <table class="table table-sm table-borderless table-striped">
      <tbody>
        <tr *ngFor="let vehicle of vehicles; first as isFirst" [class.border-top]="!isFirst">
          <td>{{vehicle.name}}</td>
          <td>{{vehicle.to}}</td>
          <td class="minimal-width">
            {{vehicle.departureTime.getTime() | date: 'HH:mm'}}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
